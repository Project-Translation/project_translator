{
  "name": "project-translator",
  "displayName": "Project Translator",
  "description": "Project Translator",
  "version": "0.5.0",
  "publisher": "techfetch-dev",
  "icon": "resources/project-translator.png",
  "engines": {
    "vscode": "^1.75.0"
  },
  "activationEvents": [],
  "main": "./out/extension.js",
  "l10n": "./l10n",
  "contributes": {
    "commands": [
      {
        "command": "extension.translateProject",
        "title": "Translate Project"
      },
      {
        "command": "extension.translateFolders",
        "title": "Translate Folders"
      },
      {
        "command": "extension.translateFiles",
        "title": "Translate Files"
      },
      {
        "command": "extension.pauseTranslation",
        "title": "Pause Translation"
      },
      {
        "command": "extension.resumeTranslation",
        "title": "Resume Translation"
      },
      {
        "command": "extension.stopTranslation",
        "title": "Stop Translation"
      }
    ],
    "configuration": {
      "title": "Project Translator",
      "properties": {
        "projectTranslator.currentVendor": {
          "type": "string",
          "default": "openai",
          "description": "%config.currentVendor.description%",
          "order": 1
        },
        "projectTranslator.vendors": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string",
                "description": "%config.vendors.description%"
              },
              "apiEndpoint": {
                "type": "string",
                "description": "%config.vendors.description%"
              },
              "apiKey": {
                "type": "string",
                "description": "%config.vendors.description%"
              },
              "model": {
                "type": "string",
                "description": "%config.vendors.description%"
              },
              "rpm": {
                "type": "number",
                "description": "%config.vendors.description%"
              },
              "maxTokensPerSegment": {
                "type": "number",
                "description": "%config.vendors.description%",
                "default": 4096
              },
              "timeout": {
                "type": "number",
                "description": "%config.vendors.description%",
                "default": 30
              },
              "temperature": {
                "type": "number",
                "description": "%config.vendors.description%",
                "minimum": 0,
                "maximum": 2,
                "default": 0
              }
            },
            "required": [
              "name",
              "apiEndpoint",
              "apiKey",
              "model"
            ]
          },
          "description": "%config.vendors.description%",
          "order": 2
        },
        "projectTranslator.specifiedFiles": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "sourceFile": {
                "type": "object",
                "properties": {
                  "path": {
                    "type": "string",
                    "description": "%config.sourceFile.description%"
                  },
                  "lang": {
                    "type": "string",
                    "default": "en-us",
                    "description": "%config.language.description%"
                  }
                },
                "required": [
                  "path",
                  "lang"
                ]
              },
              "destFiles": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "path": {
                      "type": "string",
                      "description": "%config.destFiles.description%"
                    },
                    "lang": {
                      "type": "string",
                      "default": "zh-cn",
                      "description": "%config.targetLanguage.description%"
                    }
                  },
                  "required": [
                    "path",
                    "lang"
                  ]
                }
              }
            },
            "required": [
              "sourceFile",
              "destFiles"
            ]
          },
          "default": [],
          "description": "Multiple source files with their corresponding destination files for translation",
          "order": 6
        },
        "projectTranslator.specifiedFolders": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "sourceFolder": {
                "type": "object",
                "properties": {
                  "path": {
                    "type": "string",
                    "description": "%config.sourceFolder.description%"
                  },
                  "lang": {
                    "type": "string",
                    "default": "en-us",
                    "description": "%config.language.description%"
                  }
                },
                "required": [
                  "path",
                  "lang"
                ]
              },
              "destFolders": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "path": {
                      "type": "string",
                      "description": "%config.destFolders.description%"
                    },
                    "lang": {
                      "type": "string",
                      "description": "%config.targetLanguage.description%"
                    }
                  },
                  "required": [
                    "path",
                    "lang"
                  ]
                }
              }
            },
            "required": [
              "sourceFolder",
              "destFolders"
            ]
          },
          "default": [],
          "description": "Multiple source folders with their corresponding destination folders for translation",
          "order": 6
        },
        "projectTranslator.translationIntervalDays": {
          "type": "number",
          "default": 7,
          "description": "%config.translationIntervalDays.description%",
          "order": 7
        },
        "projectTranslator.ignoreTranslationExtensions": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [
            ".svg"
          ],
          "description": "%config.ignoreTranslationExtensions.description%",
          "order": 8
        },
        "projectTranslator.ignorePaths": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [
            "**/node_modules/**",
            "**/.git/**",
            "**/.github/**",
            "**/.vscode/**",
            "**/.nuxt/**",
            "**/.next/**"
          ],
          "description": "%config.ignorePaths.description%",
          "order": 9
        },
        "projectTranslator.systemPrompts": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [
            "Professional Translation Guidelines\n\n1. **Target Language Compliance**: Translate strictly according to the specified target language.\n2. **Technical Accuracy**: Ensure precision in technical terminology and domain-specific expressions.\n3. **Code Blocks**:\n   - Translate **only comments** within code blocks.\n   - Preserve **syntax, variable names, function names, and code structure** unchanged.\n   - Maintain **integrity of data structures** (e.g., JSON, XML, YAML). Do not alter tags, attributes, or formatting.\n4. **General Text**:\n   - Use **domain-appropriate technical terms** in the target language.\n   - Adhere to **target language expression conventions** (e.g., phrasing, terminology norms).\n5. **Formatting & Structure**:\n   - Retain the original text's formatting (e.g., indentation, line breaks, tables).\n   - Do not modify structural elements (e.g., XML/HTML tags, JSON keys).\n6. **Output Requirements**:\n   - Return **only the translated content**; exclude original text or supplementary explanations.\n   - Avoid adding/removing code delimiters (e.g., triple backticks ```) unless explicitly required.\n7. **Special Files**:\n   - For structured files (e.g., XML, JSON), translate **textual content** but leave syntax, keys, and structural elements untouched.\n8. **No Translatable Content**: If no translatable text exists (e.g., pure code or non-text data), return the original file unchanged.\n\n---\n**Note**: This prompt ensures fidelity to technical accuracy, preserves code and structural integrity, and adheres strictly to the target language's conventions."
          ],
          "description": "%config.systemPrompts.description%",
          "order": 10
        },
        "projectTranslator.userPrompts": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [],
          "description": "%config.userPrompts.description%",
          "order": 11
        },
        "projectTranslator.segmentationMarkers": {
          "type": "object",
          "additionalProperties": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "default": {
            "markdown": [
              "^#\\s",
              "^##\\s",
              "^###\\s"
            ],
            "html": [
              "^<h1[^>]*>",
              "^<h2[^>]*>",
              "^<h3[^>]*>"
            ],
            "javascript": [
              "^function\\s+\\w+\\(",
              "^class\\s+\\w+"
            ],
            "typescript": [
              "^function\\s+\\w+\\(",
              "^class\\s+\\w+",
              "^interface\\s+\\w+"
            ],
            "python": [
              "^def\\s+\\w+\\(",
              "^class\\s+\\w+"
            ],
            "java": [
              "^public\\s+(class|interface|enum)\\s+\\w+",
              "^\\s*public\\s+\\w+\\s+\\w+\\("
            ],
            "go": [
              "^func\\s+\\w+\\(",
              "^type\\s+\\w+\\s+struct"
            ],
            "c#": [
              "^public\\s+(class|interface|enum)\\s+\\w+",
              "^\\s*public\\s+\\w+\\s+\\w+\\("
            ],
            "php": [
              "^function\\s+\\w+\\(",
              "^class\\s+\\w+"
            ],
            "ruby": [
              "^def\\s+\\w+",
              "^class\\s+\\w+"
            ],
            "rust": [
              "^fn\\s+\\w+",
              "^struct\\s+\\w+",
              "^enum\\s+\\w+"
            ],
            "swift": [
              "^func\\s+\\w+",
              "^class\\s+\\w+",
              "^struct\\s+\\w+"
            ],
            "kotlin": [
              "^fun\\s+\\w+",
              "^class\\s+\\w+"
            ],
            "plaintext": [
              "^\\s*$"
            ]
          },
          "description": "%config.segmentationMarkers.description%",
          "order": 12
        },
        "projectTranslator.enableMetrics": {
          "type": "boolean",
          "default": true,
          "description": "%config.enableMetrics.description%",
          "order": 13
        }
      }
    }
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/Project-Translation/project_translator"
  },
  "scripts": {
    "compile": "tsc -p ./",
    "watch": "tsc -watch -p ./",
    "lint": "eslint src --ext ts",
    "package": "webpack --mode production --devtool hidden-source-map",
    "compile:web": "webpack --mode development",
    "watch:web": "webpack --mode development --watch",
    "publish:minor": "node --no-deprecation ./node_modules/@vscode/vsce/vsce publish minor",
    "vsce:package": "vsce package"
  },
  "devDependencies": {
    "@types/chai": "^5.0.1",
    "@types/glob": "^8.1.0",
    "@types/minimatch": "^5.1.2",
    "@types/mocha": "^10.0.6",
    "@types/node": "^14.18.63",
    "@types/sinon": "^17.0.4",
    "@types/sqlite3": "^3.1.11",
    "@types/vscode": "^1.74.0",
    "@typescript-eslint/eslint-plugin": "^5.0.0",
    "@typescript-eslint/parser": "^5.0.0",
    "@vscode/vsce": "^3.2.2",
    "chai": "^5.2.0",
    "eslint": "^7.0.0",
    "glob": "^8.1.0",
    "mocha": "^10.2.0",
    "sinon": "^19.0.2",
    "ts-loader": "^9.5.2",
    "ts-node": "^10.9.2",
    "typescript": "^4.0.0",
    "webpack": "^5.98.0",
    "webpack-cli": "^5.1.4"
  },
  "dependencies": {
    "axios": "^1.6.0",
    "isbinaryfile": "^5.0.0",
    "minimatch": "^10.0.1",
    "openai": "^4.85.3",
    "sqlite3": "^5.1.7"
  },
  "capabilities": {
    "virtualWorkspaces": true
  },
  "permissions": [
    "machineId"
  ]
}