# Markdownスタイルガイド

Markdownの魅力は、プレーンテキストで記述しても、素晴らしいフォーマットの出力が得られることです。次の作成者が気持ちよく作業できるように、Markdownは可能な限りシンプルにし、全体で一貫性を持たせる必要があります。

私たちは、以下の3つの目標のバランスを取ろうとしています。

1.  *ソーステキストは読みやすく、移植可能であること。*
2.  *Markdownコーパスは、長期にわたって、またチーム間でメンテナンス可能であること。*
3.  *構文はシンプルで覚えやすいこと。*

目次：

1.  [必要最低限のドキュメント](#minimum-viable-documentation)
1.  [最高よりも良い方が良い](#better-is-better-than-best)
1.  [大文字化](#capitalization)
1.  [ドキュメントのレイアウト](#document-layout)
1.  [目次](#table-of-contents)
1.  [文字数制限](#character-line-limit)
1.  [末尾の空白](#trailing-whitespace)
1.  [見出し](#headings)
    1.  [ATXスタイルの見出し](#atx-style-headings)
    1.  [見出しには一意で完全な名前を使用する](#use-unique-complete-names-for-headings)
    1.  [見出しにスペースを追加する](#add-spacing-to-headings)
    1.  [H1見出しは1つだけ使用する](#use-a-single-h1-heading)
    1.  [タイトルとヘッダーの大文字化](#capitalization-of-titles-and-headers)
1.  [リスト](#lists)
    1.  [長いリストには遅延ナンバリングを使用する](#use-lazy-numbering-for-long-lists)
    1.  [ネストされたリストのスペース](#nested-list-spacing)
1.  [コード](#code)
    1.  [インライン](#inline)
    1.  [エスケープにはコードスパンを使用する](#use-code-span-for-escaping)
    1.  [コードブロック](#codeblocks)
        1.  [言語を宣言する](#declare-the-language)
        1.  [改行をエスケープする](#escape-newlines)
        1.  [インデントされたコードブロックの代わりに、フェンス付きコードブロックを使用する](#use-fenced-code-blocks-instead-of-indented-code-blocks)
        1.  [リスト内にコードブロックをネストする](#nest-codeblocks-within-lists)
1.  [リンク](#links)
    1.  [Markdown内のリンクには明示的なパスを使用する](#use-explicit-paths-for-links-within-markdown)
    1.  [同じディレクトリ内を除き、相対パスは避ける](#avoid-relative-paths-unless-within-the-same-directory)
    1.  [有益なMarkdownリンクタイトルを使用する](#use-informative-markdown-link-titles)
    1.  [参照リンク](#reference-links)
        1.  [長いリンクには参照リンクを使用する](#use-reference-links-for-long-links)
        1.  [重複を減らすために参照リンクを使用する](#use-reference-links-to-reduce-duplication)
        1.  [参照リンクは最初の使用後に定義する](#define-reference-links-after-their-first-use)
1.  [画像](#images)
1.  [テーブル](#tables)
1.  [HTMLよりもMarkdownを強く推奨する](#strongly-prefer-markdown-to-html)

## 必要最低限のドキュメント

古くて不正確な「ドキュメント」が大量にあるよりも、新鮮で正確なドキュメントが少しある方が良い。

**Markdown方式**は、エンジニアがドキュメントの所有権を持ち、テストを良好な状態に保つように、ドキュメントを最新の状態に保つことを奨励する。これを目指してください。

*   本当に必要なものを特定する：リリースドキュメント、APIドキュメント、テストガイドライン。
*   不要なものを頻繁に、そして少しずつ削除する。

## 最高よりも良い

内部ドキュメントレビューの基準は、コードレビューの基準とは異なる。レビュー担当者は改善を求めるべきだが、一般的に、作成者は常に「より良い/最高のルール」を発動できるべきである。

迅速なイテレーションはあなたの味方です。長期的な改善を得るためには、**作成者は短期的な改善を行う際に生産性を維持しなければならない**。各CLの基準を低く設定し、**より多くのそのようなCL**が発生するようにする。

ドキュメントCLのレビュー担当者として：

1.  合理的な場合は、すぐにLGTMし、コメントが適切に修正されると信頼する。
2.  曖昧なコメントを残すよりも、代替案を提案することを好む。
3.  大幅な変更の場合は、代わりに独自のフォローアップCLを開始する。特に「*〜も*すべきだ...」という形式のコメントは避けるようにする。
4.  まれに、CLが実際にドキュメントを悪化させる場合は、提出を保留する。作成者に元に戻すように依頼しても構わない。

作成者として：

1.  些細な議論で時間を無駄にしない。すぐに降参して次に進む。
2.  必要に応じて、より良い/最高のルールを引用する。

## 大文字の使用

製品、ツール、バイナリの元の名前を使用し、大文字と小文字を区別する。例：

```markdown
# Markdown スタイルガイド

`Markdown` は、内部エンジニアリングドキュメントのための非常にシンプルなプラットフォームです。
```

以下はダメです。

```markdown
# markdown 悪いスタイルガイドの例

`markdown` は、内部エンジニアリングドキュメントのための非常にシンプルなプラットフォームです。
```

## ドキュメントのレイアウト

一般的に、ドキュメントは次のレイアウトのバリエーションから恩恵を受ける。

```markdown
# ドキュメントのタイトル

短い紹介。

[TOC]

## トピック

コンテンツ。
```

## 関連情報

* https://link-to-more-info

1.  `# ドキュメントのタイトル`: 最初の見出しはレベル1の見出しにする必要があり、理想的にはファイル名と同じかほぼ同じにする必要があります。最初のレベル1の見出しは、ページの `<title>` として使用されます。

1.  `author`: *任意*。ドキュメントの所有権を主張したい場合、または非常に誇りに思っている場合は、タイトルの下に追加してください。ただし、通常はリビジョン履歴で十分です。

1.  `短い紹介文。` トピックの概要を1〜3文で説明します。「Fooの拡張」ドキュメントにたどり着いたばかりで、当然のことと思っている最も基本的な情報さえ知らない完全な初心者であると想像してください。「Fooとは何か？なぜそれを拡張するのか？」

1.  `[TOC]`: Gitilesなど、目次をサポートするホスティングを使用する場合は、短い紹介文の後に `[TOC]` を記述します。[`[TOC]` のドキュメント][TOC-docs]を参照してください。

1.  `## トピック`: 残りの見出しはレベル2から始める必要があります。

1.  `## 関連情報`: より詳しく知りたい、または必要な情報が見つからなかったユーザーのために、その他のリンクを一番下に配置します。

[TOC-docs]: https://gerrit.googlesource.com/gitiles/+/HEAD/Documentation/markdown.md#Table-of-contents

## 目次

### `[TOC]` ディレクティブを使用する

コンテンツがすべてノートパソコンのファーストビュー[^above]に収まらない限り、[`[TOC]` ディレクティブ][TOC-docs]を使用してください。

[^above]: コンテンツは、ページが最初に表示されたときに表示される場合、「ファーストビュー」にあります。コンテンツは、ユーザーがコンピューターでページを下にスクロールするか、新聞などのドキュメントを文字通り広げるまで非表示になっている場合、「ファーストビューの下」にあります。

### `[TOC]` ディレクティブを導入部の後に配置する

ページの導入部の後、最初のH2見出しの前に `[TOC]` ディレクティブを配置します。例：

```markdown
# マイページ

これはTOC **の前**の私の紹介文です。

[TOC]

## 最初のH2
```

```markdown
# マイページ

[TOC]

これはTOC **の後**の私の紹介文で、本来あるべき場所ではありません。

## 最初のH2
```

ドキュメントを視覚的に読むユーザーにとっては、`[TOC]` ディレクティブの配置場所は重要ではありません。Markdownは常にTOCをページの上部と右側に表示するためです。ただし、スクリーンリーダーまたはキーボードコントロールが関与する場合、`[TOC]` の配置は非常に重要になります。

これは、`[TOC]` が目次のHTMLを、Markdownファイルにディレクティブを含めた場所にDOMに挿入するためです。たとえば、ファイルの最後にディレクティブを配置した場合、スクリーンリーダーはドキュメントの最後に到達するまでそれを読みません。
