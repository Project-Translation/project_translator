
# Tradutor de Projetos

Uma extens√£o f√°cil de usar do vscode para localiza√ß√£o de projetos em v√°rios idiomas.

Reposit√≥rio do projeto: `https://github.com/Project-Translation/project_translator`


## Instala√ß√£o

1. Marketplace:
   - VS Code Extensions Marketplace: [https://marketplace.visualstudio.com/items?itemName=techfetch-dev.project-translator](https://marketplace.visualstudio.com/items?itemName=techfetch-dev.project-translator)
   - Open VSX Registry: [https://open-vsx.org/extension/techfetch-dev/project-translator](https://open-vsx.org/extension/techfetch-dev/project-translator)
2. Pesquise por `techfetch-dev.project-translator` na visualiza√ß√£o de Extens√µes do VS Code e clique em instalar


<!-- ![example1](../resources/example1.gif) -->
![example1](https://i.imgur.com/uwRal2I.gif)

## Tradu√ß√µes Dispon√≠veis

A extens√£o suporta tradu√ß√£o para estes idiomas:

- [ÁÆÄ‰Ωì‰∏≠Êñá (zh-cn)](./README.zh-cn.md)
- [ÁπÅÈ´î‰∏≠Êñá (zh-tw)](./README.zh-tw.md)
- [Êó•Êú¨Ë™û (ja-jp)](./README.ja-jp.md)
- [ÌïúÍµ≠Ïñ¥ (ko-kr)](./README.ko-kr.md)
- [Fran√ßais (fr-fr)](./README.fr-fr.md)
- [Deutsch (de-de)](./README.de-de.md)
- [Espa√±ol (es-es)](./README.es-es.md)
- [Portugu√™s (pt-br)](./README.pt-br.md)
- [–†—É—Å—Å–∫–∏–π (ru-ru)](./README.ru-ru.md)
- [ÿßŸÑÿπÿ±ÿ®Ÿäÿ© (ar-sa)](./README.ar-sa.md)
- [ÿßŸÑÿπÿ±ÿ®Ÿäÿ© (ar-ae)](./README.ar-ae.md)
- [ÿßŸÑÿπÿ±ÿ®Ÿäÿ© (ar-eg)](./README.ar-eg.md)

## Exemplos

| Projeto                                                                             | Reposit√≥rio Original                                                                                       | Descri√ß√£o                                                                                                                                                               | Estrelas | Tags                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| ----------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [algorithm-visualizer](https://github.com/Project-Translation/algorithm-visualizer) | [algorithm-visualizer/algorithm-visualizer](https://github.com/algorithm-visualizer/algorithm-visualizer) | :fireworks:Plataforma Online Interativa que Visualiza Algoritmos a partir de C√≥digo                                                                                               | 47301 | [`algorithm`](https://github.com/topics/algorithm), [`animation`](https://github.com/topics/animation), [`data-structure`](https://github.com/topics/data-structure), [`visualization`](https://github.com/topics/visualization)                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| [algorithms](https://github.com/Project-Translation/algorithms)                     | [algorithm-visualizer/algorithms](https://github.com/algorithm-visualizer/algorithms)                     | :crystal_ball:Visualiza√ß√µes de Algoritmos                                                                                                                                    | 401   | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| [cline-docs](https://github.com/Project-Translation/cline-docs)                     | [cline/cline](https://github.com/cline/cline)                                                             | Agente de codifica√ß√£o aut√¥nomo diretamente em seu IDE, capaz de criar/editar arquivos, executar comandos, usar o navegador e muito mais com sua permiss√£o a cada etapa. | 39572 | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| [cursor-docs](https://github.com/Project-Translation/cursor-docs)                   | [getcursor/docs](https://github.com/getcursor/docs)                                                       | Documenta√ß√£o de C√≥digo Aberto do Cursor                                                                                                                                        | 309   | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| [gobyexample](https://github.com/Project-Translation/gobyexample)                   | [mmcgrana/gobyexample](https://github.com/mmcgrana/gobyexample)                                           | Go by Example                                                                                                                                                             | 7523  | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| [golang-website](https://github.com/Project-Translation/golang-website)             | [golang/website](https://github.com/golang/website)                                                       | [mirror] Home dos sites go.dev e golang.org                                                                                                                       | 402   | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| [reference-en-us](https://github.com/Project-Translation/reference-en-us)           | [Fechin/reference](https://github.com/Fechin/reference)                                                   | ‚≠ï Compartilhe uma folha de refer√™ncia r√°pida para desenvolvedores.                                                                                                                      | 7808  | [`awk`](https://github.com/topics/awk), [`bash`](https://github.com/topics/bash), [`chatgpt`](https://github.com/topics/chatgpt), [`cheatsheet`](https://github.com/topics/cheatsheet), [`cheatsheets`](https://github.com/topics/cheatsheets), [`css`](https://github.com/topics/css), [`golang`](https://github.com/topics/golang), [`grep`](https://github.com/topics/grep), [`markdown`](https://github.com/topics/markdown), [`python`](https://github.com/topics/python), [`reference`](https://github.com/topics/reference), [`sed`](https://github.com/topics/sed), [`snippets`](https://github.com/topics/snippets), [`vim`](https://github.com/topics/vim) |
| [styleguide](https://github.com/Project-Translation/styleguide)                     | [google/styleguide](https://github.com/google/styleguide)                                                 | Guias de estilo para projetos de c√≥digo aberto originados no Google                                                                                                                   | 38055 | [`cpplint`](https://github.com/topics/cpplint), [`style-guide`](https://github.com/topics/style-guide), [`styleguide`](https://github.com/topics/styleguide)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| [vscode-docs](https://github.com/Project-Translation/vscode-docs)                   | [microsoft/vscode-docs](https://github.com/microsoft/vscode-docs)                                         | Documenta√ß√£o p√∫blica do Visual Studio Code                                                                                                                               | 5914  | [`vscode`](https://github.com/topics/vscode)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |

## Solicitando Tradu√ß√£o de Projeto

Se voc√™ deseja contribuir com uma tradu√ß√£o ou precisa que um projeto seja traduzido:

1. Crie uma issue usando o seguinte modelo:

```md
**Projeto**: [project_url]
**Idioma Alvo**: [target_lang]
**Descri√ß√£o**: Breve descri√ß√£o de por que esta tradu√ß√£o seria valiosa
```

2. Fluxo de trabalho:

```mermaid
sequenceDiagram
  Contribuidor->>Tradutor de Projeto: Criar issue de tradu√ß√£o
  Tradutor de Projeto->>Comunidade: Revisar issue
  Comunidade-->>Contribuidor: Aprovar/Comentar
  Contribuidor->>Novo Projeto: Iniciar tradu√ß√£o
  Contribuidor->>Novo Projeto: Enviar para Novo Projeto
  Contribuidor->>Tradutor de Projeto: Criar Pull Request, modificar README.Exemplos
  Tradutor de Projeto-->>Tradutor de Projeto: Revisar & Mesclar
```

3. Ap√≥s o PR ser mesclado, a tradu√ß√£o ser√° adicionada √† se√ß√£o de Exemplos.

Tradu√ß√µes em andamento: [Ver Issues](https://github.com/Project-Translation/project_translator/issues)

## Recursos

- üìÅ Suporte a Tradu√ß√£o em N√≠vel de Pasta
  - Traduzir pastas inteiras de projetos para v√°rios idiomas
  - Manter a estrutura e hierarquia original das pastas
  - Suporte a tradu√ß√£o recursiva de subpastas
  - Detec√ß√£o autom√°tica de conte√∫do traduz√≠vel
  - Processamento em lote para tradu√ß√µes em grande escala eficientes
- üìÑ Suporte a Tradu√ß√£o em N√≠vel de Arquivo
  - Traduzir arquivos individuais para v√°rios idiomas
  - Preservar a estrutura e formata√ß√£o original dos arquivos
  - Suporte a modos de tradu√ß√£o de pasta e arquivo
- üí° Tradu√ß√£o Inteligente com IA
  - Mant√©m automaticamente a integridade da estrutura do c√≥digo
  - Traduz apenas coment√°rios de c√≥digo, preserva a l√≥gica do c√≥digo
  - Mant√©m formatos de estrutura de dados JSON/XML e outros
  - Qualidade profissional de tradu√ß√£o de documenta√ß√£o t√©cnica
- ‚öôÔ∏è Configura√ß√£o Flex√≠vel
  - Configurar pasta de origem e v√°rias pastas de destino
  - Suporte a intervalos personalizados de tradu√ß√£o de arquivos
  - Definir tipos de arquivo espec√≠ficos para ignorar
  - Suporte a v√°rias op√ß√µes de modelos de IA
- üöÄ Opera√ß√µes Amig√°veis ao Usu√°rio
  - Exibi√ß√£o em tempo real do progresso da tradu√ß√£o
  - Suporte a pausar/retomar/parar a tradu√ß√£o
  - Manuten√ß√£o autom√°tica da estrutura da pasta de destino
  - Tradu√ß√£o incremental para evitar trabalho duplicado
- üîÑ Tradu√ß√£o Diferencial (Experimental)
  - Modo diff-apply para atualiza√ß√µes eficientes de tradu√ß√µes existentes
  - Reduz o uso da API traduzindo apenas conte√∫do alterado
  - Preserva o hist√≥rico de vers√µes com edi√ß√µes m√≠nimas
  - ‚ö†Ô∏è Recurso experimental - consulte [Recursos Avan√ßados](#tradu√ß√£o-diferencial-modo-diff-apply) para detalhes

## Configura√ß√£o

A extens√£o suporta as seguintes op√ß√µes de configura√ß√£o:

```json
{
  "projectTranslator.specifiedFolders": [
    {
      "sourceFolder": {
        "path": "Caminho da pasta de origem",
        "lang": "C√≥digo do idioma de origem"
      },
      "targetFolders": [
        {
          "path": "Caminho da pasta de destino",
          "lang": "C√≥digo do idioma de destino"
        }
      ]
    }
  ],
  "projectTranslator.specifiedFiles": [
    {
      "sourceFile": {
        "path": "Caminho do arquivo de origem",
        "lang": "C√≥digo do idioma de origem"
      },
      "targetFiles": [
        {
          "path": "Caminho do arquivo de destino",
          "lang": "C√≥digo do idioma de destino"
        }
      ]
    }
  ],
  "projectTranslator.currentVendor": "openai",
  "projectTranslator.vendors": [
    {
      "name": "openai",
      "apiEndpoint": "URL do endpoint da API",
      "apiKeyEnvVarName": "MY_OPENAI_API_KEY",
      "model": "gpt-4o",
      "rpm": "10",
      "maxTokensPerSegment": 4096,
      "timeout": 180,
      "temperature": 0.1
    }
  ],
  "projectTranslator.userPrompts": [
      "1. Deve retornar sem necessidade de tradu√ß√£o se o arquivo markdown tiver 'draft' definido como 'true' no front matter.",
      "2. './readmes/' nas frases deve ser substitu√≠do por './'",
  ],
  "projectTranslator.ignore": {
    "paths": [
      "**/node_modules/**"
    ],
    "extensions": [
      ".log"
    ]
  },
}
```

Detalhes principais da configura√ß√£o:

| Op√ß√£o de Configura√ß√£o                        | Descri√ß√£o                                                                                    |
| ------------------------------------------- | ---------------------------------------------------------------------------------------------- |
| `projectTranslator.specifiedFolders`        | V√°rias pastas de origem com suas pastas de destino correspondentes para tradu√ß√£o           |
| `projectTranslator.specifiedFiles`          | V√°rios arquivos de origem com seus arquivos de destino correspondentes para tradu√ß√£o               |
| `projectTranslator.translationIntervalDays` | Intervalo de tradu√ß√£o em dias (padr√£o 7 dias)                                                  |
| `projectTranslator.copyOnly`                | Arquivos para copiar mas n√£o traduzir (com arrays `paths` e `extensions`)                         |
| `projectTranslator.ignore`                  | Arquivos para ignorar completamente (com arrays `paths` e `extensions`)                              |
| `projectTranslator.skipFrontMatterMarkers`  | Ignorar arquivos baseado em marcadores de front matter (com `enabled` e arrays `markers`)                 |
| `projectTranslator.currentVendor`           | Provedor de API atual em uso                                                                      |
| `projectTranslator.vendors`                 | Lista de configura√ß√£o de provedores de API (pode usar apiKey diretamente ou apiKeyEnvVarName para vari√°veis de ambiente) |
| `projectTranslator.systemPromptLanguage`    | Idioma usado para prompts de sistema integrados (padr√£o: en). Afeta como o modelo √© instru√≠do, n√£o o idioma da UI |
| `projectTranslator.systemPrompts`           | Array de prompts de sistema para orientar o processo de tradu√ß√£o                                        |
| `projectTranslator.userPrompts`             | Array de prompts definidos pelo usu√°rio, estes prompts ser√£o adicionados ap√≥s os prompts de sistema durante a tradu√ß√£o |
| `projectTranslator.segmentationMarkers`     | Marcadores de segmenta√ß√£o configurados por tipo de arquivo, suporta express√µes regulares                     |
| `projectTranslator.debug`                   | Ativar modo de depura√ß√£o para registrar todas as requisi√ß√µes e respostas da API no canal de sa√≠da (padr√£o: false)     |
| `projectTranslator.logFile`                 | Configura√ß√£o para arquivos de log de depura√ß√£o (ver [Recurso de Arquivo de Log](./docs/log-file-feature.md))         |
| `projectTranslator.diffApply.enabled`       | Ativar modo experimental de tradu√ß√£o diferencial (padr√£o: false)                             |

## Uso

1. Abra a paleta de comandos (Ctrl+Shift+P / Cmd+Shift+P)
2. Digite "Translate Project" e selecione o comando
3. Se a pasta de origem n√£o estiver configurada, um di√°logo de sele√ß√£o de pasta aparecer√°
4. Aguarde a conclus√£o da tradu√ß√£o

Durante a tradu√ß√£o:

- Pode pausar/retomar a tradu√ß√£o via bot√µes da barra de status
- Pode parar o processo de tradu√ß√£o a qualquer momento
- Progresso da tradu√ß√£o mostrado na √°rea de notifica√ß√£o
- Logs detalhados exibidos no painel de sa√≠da

## Desenvolvimento

### Sistema de Build

Esta extens√£o usa esbuild para empacotamento r√°pido e desenvolvimento:

#### Scripts Dispon√≠veis

- `npm run build` - Build de produ√ß√£o com minifica√ß√£o
- `npm run compile` - Build de desenvolvimento
- `npm run watch` - Modo watch para desenvolvimento
- `npm test` - Executar testes

#### Tarefas do VS Code

- **Build** (Ctrl+Shift+P ‚Üí "Tasks: Run Task" ‚Üí "build") - Empacota a extens√£o para produ√ß√£o
- **Watch** (Ctrl+Shift+P ‚Üí "Tasks: Run Task" ‚Üí "watch") - Modo de desenvolvimento com reconstru√ß√£o autom√°tica

### Configura√ß√£o de Desenvolvimento

1. Clone o reposit√≥rio
2. Execute `npm install` para instalar depend√™ncias
3. Pressione `F5` para iniciar a depura√ß√£o ou execute a tarefa "watch" para desenvolvimento

A configura√ß√£o do esbuild:

- Empacota todos os arquivos TypeScript em um √∫nico `out/extension.js`
- Exclui a API do VS Code (marcada como externa)

## Recursos Avan√ßados

### Usando Vari√°veis de Ambiente para Chaves de API

O Tradutor de Projetos suporta o uso de vari√°veis de ambiente para chaves de API, que √© uma abordagem mais segura do que armazenar chaves de API diretamente em arquivos de configura√ß√£o:

1. Configure seu provedor com uma propriedade `apiKeyEnvVarName`:

```json
{
  "projectTranslator.vendors": [
    {
      "name": "openai",
      "apiEndpoint": "https://api.openai.com/v1",
      "apiKeyEnvVarName": "OPENAI_API_KEY",
      "model": "gpt-4"
    },
    {
      "name": "openrouter",
      "apiEndpoint": "https://openrouter.ai/api/v1",
      "apiKeyEnvVarName": "OPENROUTER_API_KEY",
      "model": "anthropic/claude-3-opus"
    }
  ]
}
```

2. Defina a vari√°vel de ambiente em seu sistema:
   - No Windows: `set OPENAI_API_KEY=sua_chave_api`
   - No macOS/Linux: `export OPENAI_API_KEY=sua_chave_api`

3. Quando a extens√£o for executada, ela ir√°:
   - Primeiro verificar se `apiKey` √© fornecida diretamente na configura√ß√£o
   - Se n√£o, procurar√° pela vari√°vel de ambiente especificada por `apiKeyEnvVarName`

Esta abordagem mant√©m suas chaves de API fora de arquivos de configura√ß√£o e sistemas de controle de vers√£o.

### Ignorar Tradu√ß√£o Baseado em Front Matter

O Tradutor de Projetos pode ignorar a tradu√ß√£o de arquivos Markdown baseado em seus metadados de front matter. Isso √© √∫til para documentos de rascunho ou arquivos marcados como n√£o requerendo tradu√ß√£o.

Para ativar este recurso, configure a op√ß√£o `projectTranslator.skipFrontMatterMarkers`:

```json
{
  "projectTranslator.skipFrontMatterMarkers": {
    "enabled": true,
    "markers": [
      {
        "key": "draft",
        "value": "true"
      },
      {
        "key": "translate",
        "value": "false"
      }
    ]
  }
}
```

Com esta configura√ß√£o, qualquer arquivo Markdown com front matter contendo `draft: true` ou `translate: false` ser√° ignorado durante a tradu√ß√£o e copiado diretamente para o local de destino.

Exemplo de arquivo Markdown que seria ignorado:
```
---
draft: true
title: "Documento de Rascunho"
---

Este documento √© um rascunho e n√£o deve ser traduzido.
```

### Tradu√ß√£o Diferencial (Modo Diff-Apply)

> **‚ö†Ô∏è Aviso de Recurso Experimental**: O modo de tradu√ß√£o diferencial √© atualmente um recurso experimental e pode ter problemas de estabilidade e compatibilidade. Recomenda-se us√°-lo com cautela em ambientes de produ√ß√£o e sempre fazer backup de arquivos importantes.

A extens√£o suporta um modo opcional de tradu√ß√£o diferencial (diff-apply). Quando ativado, a extens√£o envia tanto o conte√∫do de origem quanto o arquivo de destino traduzido existente para o modelo. O modelo deve retornar um ou mais blocos SEARCH/REPLACE (texto simples, sem cercas de c√≥digo). A extens√£o aplica esses blocos localmente para minimizar altera√ß√µes, reduzir o uso da API e preservar melhor o hist√≥rico de vers√µes.

- **Alternar**: Configure `projectTranslator.diffApply.enabled` nas configura√ß√µes do VS Code ou em `project.translation.json` (padr√£o: `false`).
- **Op√ß√µes**:
  - `validationLevel`: `normal` ou `strict` (padr√£o: `normal`). No modo `strict`, marcadores inv√°lidos ou falhas de correspond√™ncia causar√£o um erro e a extens√£o retornar√° ao fluxo de tradu√ß√£o padr√£o.
  - `autoBackup`: Se verdadeiro, cria um backup `.bak` do arquivo de destino antes de aplicar edi√ß√µes (padr√£o: `true`).
  - `maxOperationsPerFile`: (mantido para compatibilidade) n√£o usado pela nova estrat√©gia.

Fluxo de trabalho:
1. Se `diffApply.enabled` for `true` e o arquivo de destino existir, a extens√£o l√™ os conte√∫dos de origem e destino.
2. Chama o modelo com um prompt diferencial e requer a retorno de blocos SEARCH/REPLACE em texto simples.
3. Localmente, a extens√£o analisa e aplica os blocos SEARCH/REPLACE. Se a aplica√ß√£o falhar, retorna √† tradu√ß√£o completa normal e sobrescreve o arquivo de destino.

Exemplo SEARCH/REPLACE (m√∫ltiplos blocos permitidos):

```
<<<<<<< SEARCH
:start_line: 10
-------
const label = "Old"
=======
const label = "New"
>>>>>>> REPLACE

<<<<<<< SEARCH
:start_line: 25
-------
function foo() {
  return 1
}
=======
function foo() {
  return 2
}
>>>>>>> REPLACE
```

Notas:
- Use conte√∫do exato incluindo indenta√ß√£o e espa√ßos em branco nas se√ß√µes SEARCH. Se n√£o tiver certeza, use o conte√∫do mais recente do arquivo.
- Mantenha uma √∫nica linha de `=======` entre SEARCH e REPLACE.
- Se nenhuma altera√ß√£o for necess√°ria, o modelo deve retornar uma string vazia.

Por que a tradu√ß√£o diferencial atualmente tem desempenho ruim (explica√ß√£o)

- **Desafios de alinhamento e compara√ß√£o entre idiomas**: A tradu√ß√£o diferencial requer enviar tanto o documento de origem original quanto o documento traduzido existente para o modelo, e o modelo deve compar√°-los entre idiomas para decidir quais partes da tradu√ß√£o precisam ser alteradas. Esta √© uma tarefa fundamentalmente mais dif√≠cil do que modificar um √∫nico documento in-place porque o modelo deve alinhar com precis√£o segmentos em diferentes idiomas e julgar diferen√ßas sem√¢nticas.

- **Complexidade de preserva√ß√£o de formato e limites**: Muitos documentos cont√™m blocos de c√≥digo, tabelas, marcadores frontend ou placeholders especiais. Um fluxo de diff confi√°vel deve preservar essas estruturas enquanto faz edi√ß√µes textuais. Se o modelo n√£o puder produzir consistentemente resultados que sigam estritamente o formato SEARCH/REPLACE, a aplica√ß√£o autom√°tica de edi√ß√µes pode introduzir regress√µes de formata√ß√£o ou erros estruturais.

- **Problemas de contexto e consist√™ncia terminol√≥gica**: Pequenas edi√ß√µes localizadas frequentemente dependem de contexto mais amplo e de um gloss√°rio de terminologia/estilo existente. Quando solicitado a produzir edi√ß√µes m√≠nimas, o modelo pode negligenciar a consist√™ncia global (terminologia, estilo, coment√°rios, nomes de vari√°veis), resultando em tradu√ß√µes inconsistentes ou semanticamente deslocadas.

- **Estabilidade do modelo e trade-offs de custo**: Alcan√ßar uma tradu√ß√£o diferencial confi√°vel requer modelos com forte racioc√≠nio comparativo e formatos de sa√≠da est√°veis e previs√≠veis. Os modelos atuais n√£o fornecem de forma confi√°vel tanto alinhamento robusto entre idiomas quanto sa√≠das estritamente formatadas a um custo razo√°vel, ent√£o os sistemas frequentemente retornam a uma retradu√ß√£o completa para garantir corre√ß√£o.

Portanto, embora a tradu√ß√£o diferencial possa teoricamente reduzir tokens de sa√≠da caros e preservar melhor o hist√≥rico de vers√µes, ela √© atualmente limitada pelas capacidades de compara√ß√£o entre idiomas dos modelos e pela estabilidade da sa√≠da. Este recurso permanece experimental; mitiga√ß√µes recomendadas incluem manter backups autom√°ticos (`autoBackup: true`), usar um n√≠vel de valida√ß√£o tolerante (`validationLevel: "normal"`) e retornar √† retradu√ß√£o completa quando a correspond√™ncia ou formata√ß√£o falhar. No futuro, p√≥s-processadores especializados de alinhamento bil√≠ngue ou modelos menores personalizados podem melhorar a estabilidade da abordagem diff.

Economia de custos e por que ajuda

- **Custo de token de entrada vs sa√≠da**: APIs de modelos grandes comumente cobram diferentemente por tokens de entrada (prompt) e sa√≠da (completion). Frequentemente, tokens de sa√≠da s√£o significativamente mais caros porque o modelo gera texto mais longo. Diff-apply ajuda porque enviamos a **origem atualizada (entrada)** e o **arquivo traduzido existente (entrada)** para o modelo e solicitamos um JSON compacto de edi√ß√µes. A resposta do modelo √© um JSON pequeno (poucos tokens de sa√≠da) em vez de um arquivo totalmente retraduzido (muitos tokens de sa√≠da), ent√£o voc√™ paga muito menos pela parte cara da sa√≠da.

- **Enviar apenas o que mudou**: Em vez de retraduzir o arquivo inteiro sempre que ocorrem pequenas altera√ß√µes, diff-apply instrui o modelo a calcular as opera√ß√µes de edi√ß√£o m√≠nimas para atualizar a tradu√ß√£o existente. Isso √© particularmente eficaz para arquivos que foram previamente traduzidos e recebem apenas edi√ß√µes incrementais.

- **Melhor para arquivos formatados**: Arquivos com formata√ß√£o estrita (JSON, XML, Markdown com blocos de c√≥digo) se beneficiam muito porque diff-apply preserva a estrutura e altera apenas partes textuais que precisam de tradu√ß√£o. Isso reduz a chance de regress√µes relacionadas a formato e tokens de sa√≠da extras causados pela reformata√ß√£o do modelo.

- **Unidade base orientada a linha, agrega√ß√£o mais inteligente**: A ferramenta trata a unidade b√°sica de tradu√ß√£o como uma "linha", e a estrat√©gia SEARCH/REPLACE aplica correspond√™ncia exata ou aproximada perto de `:start_line:`. Use `validationLevel: "normal"` para comportamento tolerante e `"strict"` quando precisar de edi√ß√µes conservadoras e exatas.

Quando usar diff-apply:

- Use quando o arquivo de destino j√° existe e foi previamente traduzido.
- Use para documentos grandes e formatados onde retraduzir o arquivo inteiro seria caro.
- Evite para arquivos totalmente novos sem qualquer tradu√ß√£o anterior, ou quando desejar uma retradu√ß√£o fresca.



### Documenta√ß√£o de Design

- Gera source maps para builds de desenvolvimento
- Minifica c√≥digo para builds de produ√ß√£o
- Fornece integra√ß√£o de problem matcher para VS Code

## Notas

- Garanta cota suficiente de uso da API
- Recomendado testar primeiro com pequenos projetos
- Use chaves de API dedicadas e remova-as ap√≥s a conclus√£o

## Licen√ßa

[Licen√ßa](LICENSE)